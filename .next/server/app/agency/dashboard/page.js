(()=>{var e={};e.id=223,e.ids=[223],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11244:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var s=r(65239),a=r(48088),n=r(88170),i=r.n(n),o=r(30893),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["agency",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,25411)),"C:\\Users\\BUNNY\\Desktop\\trek_scope\\src\\app\\agency\\dashboard\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,32416)),"C:\\Users\\BUNNY\\Desktop\\trek_scope\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\BUNNY\\Desktop\\trek_scope\\src\\app\\agency\\dashboard\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/agency/dashboard/page",pathname:"/agency/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},25411:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\BUNNY\\\\Desktop\\\\trek_scope\\\\src\\\\app\\\\agency\\\\dashboard\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\BUNNY\\Desktop\\trek_scope\\src\\app\\agency\\dashboard\\page.tsx","default")},26622:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s=(0,r(82614).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},28730:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>em});var s=r(60687),a=r(43210),n=r.n(a),i=r(99208),o=r(16189),l=r(44493),c=r(29523),d=r(91821),u=r(85763),p=r(48482),m=r(92491),h=r(93492),x=r(5231),f=r.n(x),y=r(37456),g=r.n(y),v=r(71967),b=r.n(v),j=r(49384),N=r(81888),k=r(95530),w=r(98986),A=r(98845),P=r(60927),S=r(22989),C=r(54186),O=r(20237),T=r(30087),D=["type","layout","connectNulls","ref"],E=["key"];function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function L(){return(L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function B(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?B(Object(r),!0).forEach(function(t){W(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function F(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return q(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,t)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=Array(t);r<t;r++)s[r]=e[r];return s}function U(e,t){for(var r=0;r<t.length;r++){var s=t[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,z(s.key),s)}}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(M=function(){return!!e})()}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t,r){return(t=z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e){var t=function(e,t){if("object"!=R(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=R(s))return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==R(t)?t:t+""}var K=function(e){var t,r;function s(){var e,t,r;if(!(this instanceof s))throw TypeError("Cannot call a class as a function");for(var a=arguments.length,n=Array(a),i=0;i<a;i++)n[i]=arguments[i];return t=s,r=[].concat(n),t=Z(t),W(e=function(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");var r=e;if(void 0===r)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return r}(this,M()?Reflect.construct(t,r||[],Z(this).constructor):t.apply(this,r)),"state",{isAnimationFinished:!0,totalLength:0}),W(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),W(e,"getStrokeDasharray",function(t,r,a){var n=a.reduce(function(e,t){return e+t});if(!n)return e.generateSimpleStrokeDasharray(r,t);for(var i=Math.floor(t/n),o=t%n,l=r-t,c=[],d=0,u=0;d<a.length;u+=a[d],++d)if(u+a[d]>o){c=[].concat(F(a.slice(0,d)),[o-u]);break}var p=c.length%2==0?[0,l]:[l];return[].concat(F(s.repeat(a,i)),F(c),p).map(function(e){return"".concat(e,"px")}).join(", ")}),W(e,"id",(0,S.NF)("recharts-line-")),W(e,"pathRef",function(t){e.mainCurve=t}),W(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),W(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");return s.prototype=Object.create(e&&e.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),e&&$(s,e),t=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,s=r.points,a=r.xAxis,i=r.yAxis,o=r.layout,l=r.children,c=(0,C.aS)(l,P.u);if(!c)return null;var d=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:(0,T.kr)(e.payload,t)}};return n().createElement(w.W,{clipPath:e?"url(#clipPath-".concat(t,")"):null},c.map(function(e){return n().cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:s,xAxis:a,yAxis:i,layout:o,dataPointFormatter:d})}))}},{key:"renderDots",value:function(e,t,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,i=a.dot,o=a.points,l=a.dataKey,c=(0,C.J9)(this.props,!1),d=(0,C.J9)(i,!0),u=o.map(function(e,t){var r=I(I(I({key:"dot-".concat(t),r:3},c),d),{},{value:e.value,dataKey:l,cx:e.x,cy:e.y,index:t,payload:e.payload});return s.renderDotItem(i,r)}),p={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(r,")"):null};return n().createElement(w.W,L({className:"recharts-line-dots",key:"dots"},p),u)}},{key:"renderCurveStatically",value:function(e,t,r,s){var a=this.props,i=a.type,o=a.layout,l=a.connectNulls,c=(a.ref,_(a,D)),d=I(I(I({},(0,C.J9)(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},s),{},{type:i,layout:o,connectNulls:l});return n().createElement(N.I,L({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,s=this.props,a=s.points,i=s.strokeDasharray,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,u=s.animationId,p=s.animateNewValues,m=s.width,x=s.height,f=this.state,y=f.prevPoints,g=f.totalLength;return n().createElement(h.Ay,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(s){var n,o=s.t;if(y){var l=y.length/a.length,c=a.map(function(e,t){var r=Math.floor(t*l);if(y[r]){var s=y[r],a=(0,S.Dj)(s.x,e.x),n=(0,S.Dj)(s.y,e.y);return I(I({},e),{},{x:a(o),y:n(o)})}if(p){var i=(0,S.Dj)(2*m,e.x),c=(0,S.Dj)(x/2,e.y);return I(I({},e),{},{x:i(o),y:c(o)})}return I(I({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(c,e,t)}var d=(0,S.Dj)(0,g)(o);if(i){var u="".concat(i).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});n=r.getStrokeDasharray(d,g,u)}else n=r.generateSimpleStrokeDasharray(g,d);return r.renderCurveStatically(a,e,t,{strokeDasharray:n})})}},{key:"renderCurve",value:function(e,t){var r=this.props,s=r.points,a=r.isAnimationActive,n=this.state,i=n.prevPoints,o=n.totalLength;return a&&s&&s.length&&(!i&&o>0||!b()(i,s))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(s,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,s=t.dot,a=t.points,i=t.className,o=t.xAxis,l=t.yAxis,c=t.top,d=t.left,u=t.width,p=t.height,m=t.isAnimationActive,h=t.id;if(r||!a||!a.length)return null;var x=this.state.isAnimationFinished,f=1===a.length,y=(0,j.A)("recharts-line",i),v=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,N=v||b,k=g()(h)?this.id:h,P=null!=(e=(0,C.J9)(s,!1))?e:{r:3,strokeWidth:2},S=P.r,O=P.strokeWidth,T=((0,C.sT)(s)?s:{}).clipDot,D=void 0===T||T,E=2*(void 0===S?3:S)+(void 0===O?2:O);return n().createElement(w.W,{className:y},v||b?n().createElement("defs",null,n().createElement("clipPath",{id:"clipPath-".concat(k)},n().createElement("rect",{x:v?d:d-u/2,y:b?c:c-p/2,width:v?u:2*u,height:b?p:2*p})),!D&&n().createElement("clipPath",{id:"clipPath-dots-".concat(k)},n().createElement("rect",{x:d-E/2,y:c-E/2,width:u+E,height:p+E}))):null,!f&&this.renderCurve(N,k),this.renderErrorBar(N,k),(f||s)&&this.renderDots(N,D,k),(!m||x)&&A.Z.renderCallByParent(this.props,a))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat(F(e),[0]):e,s=[],a=0;a<t;++a)s=[].concat(F(s),F(r));return s}},{key:"renderDotItem",value:function(e,t){var r;if(n().isValidElement(e))r=n().cloneElement(e,t);else if(f()(e))r=e(t);else{var s=t.key,a=_(t,E),i=(0,j.A)("recharts-line-dot","boolean"!=typeof e?e.className:"");r=n().createElement(k.c,L({key:s},a,{className:i}))}return r}}],t&&U(s.prototype,t),r&&U(s,r),Object.defineProperty(s,"prototype",{writable:!1}),s}(a.PureComponent);W(K,"displayName","Line"),W(K,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!O.m.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),W(K,"getComposedData",function(e){var t=e.props,r=e.xAxis,s=e.yAxis,a=e.xAxisTicks,n=e.yAxisTicks,i=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return I({points:l.map(function(e,t){var l=(0,T.kr)(e,i);return"horizontal"===d?{x:(0,T.nb)({axis:r,ticks:a,bandSize:o,entry:e,index:t}),y:g()(l)?null:s.scale(l),value:l,payload:e}:{x:g()(l)?null:r.scale(l),y:(0,T.nb)({axis:s,ticks:n,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:d},c)});var V=r(27747),G=r(9920),J=r(84629),Y=(0,m.gu)({chartName:"LineChart",GraphicalChild:K,axisComponents:[{axisType:"xAxis",AxisComp:V.W},{axisType:"yAxis",AxisComp:G.h}],formatAxisMap:J.pr}),X=r(85168),H=r(38246),Q=r(57359),ee=r(2041),et=r(90812),er=r(53892),es=r(69206),ea=r(25679),en=r(49497),ei=r(26622),eo=r(36558),el=r(8751),ec=r(48206),ed=r(14975);let eu=["#3b82f6","#ef4444","#10b981","#f59e0b","#8b5cf6","#ec4899"];function ep(){let e=(0,i.wV)();(0,o.useRouter)();let[t,r]=(0,a.useState)([]),[n,m]=(0,a.useState)([]),[h,x]=(0,a.useState)([]),[f,y]=(0,a.useState)([]),[g,v]=(0,a.useState)(null),[b,j]=(0,a.useState)(!0),[N,k]=(0,a.useState)("overview");if("loading"===e.status)return(0,s.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading your dashboard..."})]});async function w(e,s){try{(await fetch("/api/bookings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:s})})).ok&&r(t.map(t=>t.id===e?{...t,status:s}:t))}catch(e){console.error("Failed to update booking:",e)}}async function A(){await (0,i.CI)({redirect:!0,callbackUrl:"/"})}return b?(0,s.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading dashboard..."})]})}):e.data?.user?(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-4xl font-bold mb-2",children:"Agency Dashboard"}),(0,s.jsxs)("p",{className:"text-muted-foreground",children:["Welcome, ",e.data.user.name]})]}),(0,s.jsxs)(c.$,{variant:"outline",onClick:A,className:"gap-2",children:[(0,s.jsx)(en.A,{className:"h-4 w-4"}),"Sign Out"]})]}),g&&(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,s.jsx)(l.Zp,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Bookings"}),(0,s.jsx)("p",{className:"text-3xl font-bold mt-2",children:g.totalBookings})]}),(0,s.jsx)(ei.A,{className:"h-8 w-8 text-blue-500 opacity-20"})]})}),(0,s.jsx)(l.Zp,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),(0,s.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",g.totalRevenue.toLocaleString()]})]}),(0,s.jsx)(eo.A,{className:"h-8 w-8 text-green-500 opacity-20"})]})}),(0,s.jsx)(l.Zp,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Avg Booking Value"}),(0,s.jsxs)("p",{className:"text-3xl font-bold mt-2",children:["$",g.averageBookingValue]})]}),(0,s.jsx)(el.A,{className:"h-8 w-8 text-purple-500 opacity-20"})]})}),(0,s.jsx)(l.Zp,{className:"p-6",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Conversion Rate"}),(0,s.jsxs)("p",{className:"text-3xl font-bold mt-2",children:[g.conversionRate,"%"]})]}),(0,s.jsx)(ec.A,{className:"h-8 w-8 text-orange-500 opacity-20"})]})})]}),(0,s.jsxs)(u.Tabs,{value:N,onValueChange:k,children:[(0,s.jsxs)(u.TabsList,{className:"grid w-full grid-cols-4",children:[(0,s.jsx)(u.TabsTrigger,{value:"overview",children:"Analytics Overview"}),(0,s.jsx)(u.TabsTrigger,{value:"inquiries",children:"Inquiries"}),(0,s.jsx)(u.TabsTrigger,{value:"bookings",children:"Booking Requests"}),(0,s.jsx)(u.TabsTrigger,{value:"communication",children:"Messages"})]}),(0,s.jsx)(u.TabsContent,{value:"overview",className:"space-y-6",children:g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(l.Zp,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Monthly Bookings & Revenue Trend"}),(0,s.jsx)(p.u,{width:"100%",height:300,children:(0,s.jsxs)(Y,{data:g.monthlyData,children:[(0,s.jsx)(X.d,{strokeDasharray:"3 3"}),(0,s.jsx)(V.W,{dataKey:"month"}),(0,s.jsx)(G.h,{yAxisId:"left"}),(0,s.jsx)(G.h,{yAxisId:"right",orientation:"right"}),(0,s.jsx)(H.m,{}),(0,s.jsx)(Q.s,{}),(0,s.jsx)(K,{yAxisId:"left",type:"monotone",dataKey:"bookings",stroke:"#3b82f6",name:"Bookings"}),(0,s.jsx)(K,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#10b981",name:"Revenue ($)"})]})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,s.jsxs)(l.Zp,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Most Popular Treks"}),(0,s.jsx)(p.u,{width:"100%",height:300,children:(0,s.jsxs)(ee.E,{data:g.trekPopularity,children:[(0,s.jsx)(X.d,{strokeDasharray:"3 3"}),(0,s.jsx)(V.W,{dataKey:"name",angle:-45,textAnchor:"end",height:100}),(0,s.jsx)(G.h,{}),(0,s.jsx)(H.m,{}),(0,s.jsx)(et.y,{dataKey:"bookings",fill:"#3b82f6"})]})})]}),(0,s.jsxs)(l.Zp,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Bookings by Difficulty"}),(0,s.jsx)(p.u,{width:"100%",height:300,children:(0,s.jsxs)(er.r,{children:[(0,s.jsx)(es.F,{data:g.difficultyBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({difficulty:e,count:t})=>`${e}: ${t}`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:g.difficultyBreakdown.map((e,t)=>(0,s.jsx)(ea.f,{fill:eu[t%eu.length]},`cell-${t}`))}),(0,s.jsx)(H.m,{})]})})]})]})]})}),(0,s.jsx)(u.TabsContent,{value:"inquiries",className:"space-y-4",children:(0,s.jsxs)(l.Zp,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Trek Inquiries"}),0===n.length?(0,s.jsxs)(d.Fc,{children:[(0,s.jsx)(ed.A,{className:"h-4 w-4"}),(0,s.jsx)(d.TN,{children:"No inquiries yet. When customers ask about your treks, they'll appear here."})]}):(0,s.jsx)("div",{className:"space-y-4",children:n.map(e=>(0,s.jsxs)(l.Zp,{className:"p-4 border-l-4 border-l-blue-500",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:e.trekName}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["from ",e.name]})]}),(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${"new"===e.status?"bg-blue-100 text-blue-800":"read"===e.status?"bg-gray-100 text-gray-800":"bg-green-100 text-green-800"}`,children:e.status})]}),(0,s.jsx)("p",{className:"text-sm mb-3",children:e.message}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Email:"})," ",e.email]}),e.phone&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"font-medium",children:"Phone:"})," ",e.phone]})]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[new Date(e.createdAt).toLocaleDateString()," at ",new Date(e.createdAt).toLocaleTimeString()]})]},e.id))})]})}),(0,s.jsx)(u.TabsContent,{value:"bookings",className:"space-y-4",children:0===t.length?(0,s.jsxs)(d.Fc,{children:[(0,s.jsx)(ed.A,{className:"h-4 w-4"}),(0,s.jsx)(d.TN,{children:"No booking requests yet."})]}):(0,s.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,s.jsx)(l.Zp,{className:"p-6",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg mb-2",children:e.trekName}),(0,s.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Customer:"})," ",e.customerName]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Email:"})," ",e.customerEmail]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Phone:"})," ",e.customerPhone]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Group Size:"})," ",e.groupSize," people"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Dates:"})," ",e.dates.start," to ",e.dates.end]}),e.specialRequests&&(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Special Requests:"})," ",e.specialRequests]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"text-xs font-semibold text-muted-foreground uppercase mb-2",children:"Status"}),(0,s.jsx)("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${"pending"===e.status?"bg-yellow-100 text-yellow-800":"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"completed"===e.status?"bg-blue-100 text-blue-800":(e.status,"bg-gray-100 text-gray-800")}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"text-xs font-semibold text-muted-foreground uppercase mb-2",children:"Revenue"}),(0,s.jsxs)("div",{className:"text-lg font-bold text-green-600",children:["$",(function(e){let t=f.find(t=>t.slug===e.trek),r=t?.price_range?.[0]||0;return"completed"===e.status||"approved"===e.status?r*e.groupSize:0})(e).toLocaleString()]})]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:["pending"===e.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.$,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:()=>w(e.id,"approved"),children:"Approve"}),(0,s.jsx)(c.$,{size:"sm",variant:"outline",onClick:()=>w(e.id,"rejected"),children:"Reject"})]}),("approved"===e.status||"completed"===e.status)&&(0,s.jsx)(c.$,{size:"sm",variant:"destructive",onClick:()=>w(e.id,"cancelled"),children:"Cancel Booking"})]})]})]})},e.id))})}),(0,s.jsx)(u.TabsContent,{value:"communication",children:(0,s.jsxs)(l.Zp,{className:"p-6",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Messages from Customers"}),0===h.length?(0,s.jsxs)(d.Fc,{children:[(0,s.jsx)(ed.A,{className:"h-4 w-4"}),(0,s.jsx)(d.TN,{children:"No messages yet. Customers can send messages about your treks from the trek detail pages."})]}):(0,s.jsx)("div",{className:"space-y-4",children:h.map(e=>(0,s.jsxs)(l.Zp,{className:"p-4 border-l-4 border-l-purple-500",children:[(0,s.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-semibold text-lg",children:e.trekName}),(0,s.jsxs)("p",{className:"text-sm text-muted-foreground",children:["from ",e.name]})]}),(0,s.jsx)("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${!e.read?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:e.read?"Read":"New"})]}),(0,s.jsx)("p",{className:"text-sm mb-3 whitespace-pre-wrap",children:e.message}),(0,s.jsxs)("div",{className:"text-sm mb-3",children:[(0,s.jsx)("span",{className:"font-medium",children:"Email:"})," ",e.email]}),(0,s.jsxs)("div",{className:"text-xs text-muted-foreground",children:[new Date(e.createdAt).toLocaleDateString()," at ",new Date(e.createdAt).toLocaleTimeString()]})]},e.id))})]})})]})]}):null}function em(){return(0,s.jsx)(a.Suspense,{fallback:(0,s.jsxs)("div",{className:"container mx-auto px-4 py-8 text-center",children:[(0,s.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading dashboard..."})]}),children:(0,s.jsx)(ep,{})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33789:(e,t,r)=>{Promise.resolve().then(r.bind(r,28730))},33873:e=>{"use strict";e.exports=require("path")},44493:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>i,aR:()=>o,wL:()=>u});var s=r(60687),a=r(43210),n=r(4780);let i=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let o=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("text-sm text-muted-foreground",e),...t}));c.displayName="CardDescription";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent";let u=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,n.cn)("flex items-center p-6 pt-0",e),...t}));u.displayName="CardFooter"},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63645:(e,t,r)=>{Promise.resolve().then(r.bind(r,25411))},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},79551:e=>{"use strict";e.exports=require("url")},85763:(e,t,r)=>{"use strict";r.d(t,{Tabs:()=>o,TabsContent:()=>d,TabsList:()=>l,TabsTrigger:()=>c});var s=r(60687),a=r(43210),n=r(41360),i=r(4780);let o=n.bL,l=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(n.B8,{ref:r,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));l.displayName=n.B8.displayName;let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(n.l9,{ref:r,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));c.displayName=n.l9.displayName;let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)(n.UC,{ref:r,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));d.displayName=n.UC.displayName},91821:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>l,TN:()=>d,XL:()=>c});var s=r(60687),a=r(43210),n=r(24224),i=r(4780);let o=(0,n.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),l=a.forwardRef(({className:e,variant:t,...r},a)=>(0,s.jsx)("div",{ref:a,role:"alert",className:(0,i.cn)(o({variant:t}),e),...r}));l.displayName="Alert";let c=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("h5",{ref:r,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));c.displayName="AlertTitle";let d=a.forwardRef(({className:e,...t},r)=>(0,s.jsx)("div",{ref:r,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...t}));d.displayName="AlertDescription"}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[447,21,658,171,368,90],()=>r(11244));module.exports=s})();