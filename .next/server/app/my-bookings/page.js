(()=>{var e={};e.id=716,e.ids=[716],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14975:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(82614).A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22220:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(60687),a=s(43210),o=s(99208),i=s(16189),n=s(44493),d=s(29523),l=s(91821),c=s(14975),p=s(48206),m=s(26622);function u(){let e=(0,o.wV)();(0,i.useRouter)();let[t,s]=(0,a.useState)([]),[u,x]=(0,a.useState)(!0),[h,f]=(0,a.useState)(null);async function g(){try{x(!0);let t=await fetch("/api/bookings"),r=await t.json(),a=e.data?.user?.email||"",o=r.filter(e=>e.customerEmail===a);s(o)}catch(e){console.error("Failed to fetch bookings:",e)}finally{x(!1)}}async function v(e){if(window.confirm("Are you sure you want to cancel this booking?"))try{if(f(e),!(await fetch("/api/bookings",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e,status:"cancelled"})})).ok)throw Error("Failed to cancel booking");g()}catch(e){console.error("Error cancelling booking:",e),alert("Failed to cancel booking")}finally{f(null)}}return"loading"===e.status||u?(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12 text-center",children:[(0,r.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),(0,r.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Loading your bookings..."})]}):(0,r.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"My Bookings"}),0===t.length?(0,r.jsxs)(l.Fc,{children:[(0,r.jsx)(c.A,{className:"h-4 w-4"}),(0,r.jsxs)(l.TN,{children:["You don't have any bookings yet. ",(0,r.jsx)("a",{href:"/treks",className:"font-semibold hover:underline",children:"Browse treks"})," to make your first booking!"]})]}):(0,r.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,r.jsx)(n.Zp,{className:"p-6",children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-4",children:e.trekName}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(p.A,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsxs)("span",{children:[e.groupSize," ",1===e.groupSize?"person":"people"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.A,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsxs)("span",{children:[e.dates.start," to ",e.dates.end]})]}),e.specialRequests&&(0,r.jsxs)("div",{className:"mt-2",children:[(0,r.jsx)("p",{className:"font-medium",children:"Special Requests:"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:e.specialRequests})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Your Details"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Name:"})," ",e.customerName]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Email:"})," ",e.customerEmail]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("span",{className:"text-muted-foreground",children:"Phone:"})," ",e.customerPhone]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Status"}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsx)("div",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium ${"pending"===e.status?"bg-yellow-100 text-yellow-800":"approved"===e.status?"bg-green-100 text-green-800":"rejected"===e.status?"bg-red-100 text-red-800":"completed"===e.status?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:e.status.charAt(0).toUpperCase()+e.status.slice(1)})}),"completed"!==e.status&&"cancelled"!==e.status&&"rejected"!==e.status&&(0,r.jsx)(d.$,{variant:"outline",size:"sm",className:"w-full border-red-200 text-red-600 hover:bg-red-50",onClick:()=>v(e.id),disabled:h===e.id,children:h===e.id?"Cancelling...":"Cancel Booking"}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground mt-4",children:["Booked on ",new Date(e.createdAt).toLocaleDateString()]})]})]})},e.id))})]})})}},26622:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(82614).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33234:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\BUNNY\\\\Desktop\\\\trek_scope\\\\src\\\\app\\\\my-bookings\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\BUNNY\\Desktop\\trek_scope\\src\\app\\my-bookings\\page.tsx","default")},33873:e=>{"use strict";e.exports=require("path")},44493:(e,t,s)=>{"use strict";s.d(t,{BT:()=>l,Wu:()=>c,ZB:()=>d,Zp:()=>i,aR:()=>n,wL:()=>p});var r=s(60687),a=s(43210),o=s(4780);let i=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));i.displayName="Card";let n=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("flex flex-col space-y-1.5 p-6",e),...t}));n.displayName="CardHeader";let d=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));d.displayName="CardTitle";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("text-sm text-muted-foreground",e),...t}));l.displayName="CardDescription";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let p=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,o.cn)("flex items-center p-6 pt-0",e),...t}));p.displayName="CardFooter"},48206:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(82614).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},50478:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>m,tree:()=>l});var r=s(65239),a=s(48088),o=s(88170),i=s.n(o),n=s(30893),d={};for(let e in n)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);s.d(t,d);let l={children:["",{children:["my-bookings",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,33234)),"C:\\Users\\BUNNY\\Desktop\\trek_scope\\src\\app\\my-bookings\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,32416)),"C:\\Users\\BUNNY\\Desktop\\trek_scope\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["C:\\Users\\BUNNY\\Desktop\\trek_scope\\src\\app\\my-bookings\\page.tsx"],p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/my-bookings/page",pathname:"/my-bookings",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},66283:(e,t,s)=>{Promise.resolve().then(s.bind(s,22220))},70440:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},71859:(e,t,s)=>{Promise.resolve().then(s.bind(s,33234))},79551:e=>{"use strict";e.exports=require("url")},91821:(e,t,s)=>{"use strict";s.d(t,{Fc:()=>d,TN:()=>c,XL:()=>l});var r=s(60687),a=s(43210),o=s(24224),i=s(4780);let n=(0,o.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),d=a.forwardRef(({className:e,variant:t,...s},a)=>(0,r.jsx)("div",{ref:a,role:"alert",className:(0,i.cn)(n({variant:t}),e),...s}));d.displayName="Alert";let l=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("h5",{ref:s,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",e),...t}));l.displayName="AlertTitle";let c=a.forwardRef(({className:e,...t},s)=>(0,r.jsx)("div",{ref:s,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",e),...t}));c.displayName="AlertDescription"}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[447,21,658,90],()=>s(50478));module.exports=r})();